#!/bin/bash
DIR_DOTFILES=$HOME/.dotfiles/

savefiles()
{
    # ~/.bin (files only)
    rsync --progress --human-readable --update --checksum \
        $HOME/.bin/* \
        "$DIR_DOTFILES".bin/

    # Files in the home folder
    rsync --progress --human-readable --update --checksum \
        $HOME/{.Xresources,.xinitrc,.bash_profile} \
        "$DIR_DOTFILES"

    # Files in the config folder
    rsync -r --progress --human-readable --update --checksum \
        $HOME/.config/{bspwm,sxhkd,compton} \
        "$DIR_DOTFILES".config/
}

restorefiles()
{
    # ~/.bin (files only)
    rsync --progress --human-readable --update --checksum \
        "$DIR_DOTFILES".bin/* \
        $HOME/.bin/

    # Files in the home folder
    rsync --progress --human-readable --update --checksum \
        "$DIR_DOTFILES"/{.Xresources,.xinitrc,.bash_profile} \
        $HOME/

    # Files in the config folder
    rsync -r --progress --human-readable --update --checksum \
        "$DIR_DOTFILES".config/{bspwm,sxhkd,compton} \
        $HOME/.config/

}

case $1 in
    "save") savefiles ;;
    "restore") restorefiles ;;
    *)
        echo "Usage: $1 <save|restore>"
        exit 1
        ;;
esac
